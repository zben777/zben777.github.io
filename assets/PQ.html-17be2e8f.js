import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as m,o as r,c,d as h,a as s,b as a,e as l,w as n,f as i}from"./app-2a2d189a.js";const o="/assets/image-20240912221941260-f3393e36.png",u="/assets/image-20240910113903409-d9df8d1b.png",g="/assets/image-20240804184007642-da24c3a5.png",d="/assets/image-20240910143938954-7f5042cd.png",y={},x=s("h1",{id:"pq",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#pq","aria-hidden":"true"},"#"),a(" PQ")],-1),w=s("p",null,"PQ",-1),v={class:"hint-container info"},k=s("p",{class:"hint-container-title"},"相关信息",-1),b=s("li",null,[s("p",null,"可能这里要有一些 关于 其它的对于这篇文章的解读")],-1),M=s("li",null,[s("p",null,"我们需要一些链接？")],-1),z=s("br",null,null,-1),f={href:"https://zhuanlan.zhihu.com/p/635665517",target:"_blank",rel:"noopener noreferrer"},_=s("br",null,null,-1),q={href:"https://zhuanlan.zhihu.com/p/635724948",target:"_blank",rel:"noopener noreferrer"},L=s("br",null,null,-1),I={href:"https://zhuanlan.zhihu.com/p/707388642",target:"_blank",rel:"noopener noreferrer"},N=s("br",null,null,-1),C={href:"https://www.pinecone.io/learn/series/faiss/",target:"_blank",rel:"noopener noreferrer"},D=s("br",null,null,-1),A={href:"https://www.pinecone.io/learn/series/faiss/product-quantization/",target:"_blank",rel:"noopener noreferrer"},S={class:"table-of-contents"},j=s("ul",null,[s("li",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"I")]),s("annotation",{encoding:"application/x-tex"},"I")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I")])])]),a(" 是 index value 即0~k-1")]),s("li",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"C")]),s("annotation",{encoding:"application/x-tex"},"C")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C")])])]),a(" 是codebook 即 k个 质心的 float 数值；")]),s("li")],-1),T=i('<h2 id="no-0-abstract" tabindex="-1"><a class="header-anchor" href="#no-0-abstract" aria-hidden="true">#</a> No.0 <strong>ABSTRACT</strong></h2><ul><li><p>product：乘积 quantization：量化 subspaces：子空间</p></li><li><p>本文介绍了一种基于乘积量化(product quantization)的近似最近邻搜索方法。</p></li><li><p>其理念是将空间分解(decomposes)为低维子空间(low dimensional subspaces)的笛卡尔积(a Cartesian product)，并分别(separately)对每个子空间(subspaces)进行量化(quantization)。</p></li><li><p>A vector is represented by a short code composed of its subspace quantization indices.(一个向量由其包含子空间量化索引的a short code来表示)</p></li><li><p>根据两个向量的编码( their codes)，可以有效地估计出它们之间的欧氏距离(Euclidean distance)。</p><ul><li>所以就是说一个子空间就是一个short code；那么总共就是their codes</li></ul></li><li><p>非对称(asymmetric)版本提高了精度(precision)，因为它计算一个vector和一个code之间的近似距离。</p><ul><li>也就是说 有一个版本不是 使用 codes与codes进行近似计算距离也不是vector和vector近似计算距离而是vector和codes计算</li></ul></li><li><p>实验结果表明，我们的方法能高效地搜索最近邻，尤其是与倒排文件系统相结合(in combination with)时。</p></li><li><p>针对 SIFT 和 GIST 图像描述符的结果显示出了极好的搜索精度，优于(outperforming)三种最先进的方法。</p></li><li><p>我们的方法的可扩展性(scalability)在20亿个向量的数据集上得到了验证(validated)</p></li><li><p><mark>索引术语——高维索引、图像索引、非常大的数据库、近似搜索</mark></p></li></ul><h2 id="no-1-introduction" tabindex="-1"><a class="header-anchor" href="#no-1-introduction" aria-hidden="true">#</a> No.1 INTRODUCTION</h2>',3),V=s("ul",null,[s("li",null,[s("p",null,[s("mark",null,"简单介绍NNS")])]),s("li",null,[s("p",null,"计算高维向量之间的欧几里得距离在许多应用中是一个基本要求.")]),s("li",null,[s("p",null,"它特别用于最近邻(NN)搜索")]),s("li",null,[s("p",null,"由于维度的诅咒(curse of dimensionality)，最近邻搜索本身(inherently)就是昂贵的(expensive)[3]，[4]。")]),s("li",null,[s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow"),s("annotation",{encoding:"application/x-tex"})])])]),s("span",{class:"katex-html","aria-hidden":"true"})])])]),s("p",null,[a("集中在 D-dimensional 欧几里得空间 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"R"),s("mi",null,"D")])]),s("annotation",{encoding:"application/x-tex"},"R^D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8413em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8413em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"D")])])])])])])])])])]),a(" 上，问题是要在"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"R"),s("mi",null,"D")])]),s("annotation",{encoding:"application/x-tex"},"R^D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8413em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8413em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"D")])])])])])])])])])]),a(" 中从一个由 n 个向量组成的有限集合 Y 中找到元素 NN(x)，该元素使到查询向量 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"x"),s("mo",null,"∈"),s("msup",null,[s("mi",null,"R"),s("mi",null,"D")])]),s("annotation",{encoding:"application/x-tex"},"x∈R^D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.5782em","vertical-align":"-0.0391em"}}),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"∈"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8413em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8413em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"D")])])])])])])])])])]),a(" 的距离最小化：")]),s("ul",null,[s("li",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mrow",null,[s("mi",{mathvariant:"normal"},"N"),s("mi",{mathvariant:"normal"},"N")]),s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mi",null,"arg"),s("mo",null,"⁡"),s("munder",null,[s("mrow",null,[s("mi",null,"min"),s("mo",null,"⁡")]),s("mrow",null,[s("mi",null,"y"),s("mo",null,"∈"),s("mi",null,"Y")])]),s("mi",null,"d"),s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("mi",null,"y"),s("mo",{stretchy:"false"},")"),s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mtext",null,"公式"),s("mn",null,"1"),s("mo",{stretchy:"false"},")")])]),s("annotation",{encoding:"application/x-tex"},"\\mathrm{NN}(x)=\\arg\\min\\limits_{y\\in Y}d(x,y) {(公式1)}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathrm"},"NN")]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.6304em","vertical-align":"-0.8804em"}}),s("span",{class:"mop"},[a("ar"),s("span",{style:{"margin-right":"0.01389em"}},"g")]),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mop op-limits"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6679em"}},[s("span",{style:{top:"-2.3557em","margin-left":"0em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mrel mtight"},"∈"),s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.22222em"}},"Y")])])]),s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",null,[s("span",{class:"mop"},"min")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8804em"}},[s("span")])])])]),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mclose"},")"),s("span",{class:"mord"},[s("span",{class:"mopen"},"("),s("span",{class:"mord cjk_fallback"},"公式"),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")")])])])])]),s("li",null,"即 basedata：Y； query：x； result： NN(x);")])]),s("li",null,[s("p",null,"已经提出了几种多维索引方法(multi-dimensional indexing methods)，如流行的KD-tree[5]或其他分支定界技术，以减少搜索时间")]),s("li",null,[s("p",null,"然而，对于高维度，事实证明[6]，这些方法并不比暴力穷举(brute-force exhaustive)距离计算更有效，其复杂度为 O(nD)。")]),s("li",null,[s("p",null,[a("​ "),s("mark",null,"开始引入了 ANNS")])]),s("li",null,[s("p",null,"有大量文献[7]、[8]、[9]介绍了通过执行(performing)近似最近邻(ANN)搜索来克服这一问题的算法。")]),s("li",null,[s("p",null,"这些算法共有的关键思想(key idea)是“仅”以高概率而不是概率 1 找到最近邻."),s("ul",null,[s("li",null,"这里 把 ANNS 和 NNS的 区别说明的很好； 不追求 概率1；")])]),s("li",null,[s("p",null,"大部分的努力(effort)都致力于(devoted to)欧几里得距离，尽管最近已经提出了其他度量(metrics)的一般化(generalizations)[10]。")]),s("li",null,[s("p",null,"在本文中，我们考虑了欧几里得距离，这与许多应用有关(relevant)。")]),s("li",null,[s("p",null,"在这种情况下，最流行的ANN算法之一是Euclidean Locality-Sensitive hash (E2LSH)[7]，[11]，它在有限假设下( limited assumptions.)为搜索质量提供了理论保证( theoretical guarantees)"),s("ul",null,[s("li",null,"所以说LSH在之前的ANNS 还是比较好的")])]),s("li",null,[s("p",null,"它已经成功地用于局部描述符[12]和3D对象索引[13]，[11].")]),s("li",null,[s("p",null,"然而，对于真实数据，启发式方法( heuristic methods)优于(outperformed)LSH，启发式方法利用向量的分布(exploit the distribution of the vectors)")]),s("li",null,[s("p",null,"这些方法包括随机kd -trees[14]和 hierarchical k-means[15]，这两种方法都在FLANN选择算法中实现[9]。"),s("ul",null,[s("li",null,"出来了 一个 利用 向量 的 空间位置 的 分布 的 算法 the main key idea")])]),s("li",null,[s("p",null,[s("mark",null,"开始引入内存消耗")])]),s("li",null,[s("p",null,"近似最近邻算法ANNS通常是根据 搜索质量和效率之间的权衡(trade-off) 来进行比较的。"),s("ul",null,[s("li",null,"所以就是说 这些 approachs 都是 通过 这个 权衡 进行 比较 算法 的 好坏的。")])]),s("li",null,[s("p",null,"然而，这种权衡并没有考虑到索引结构的内存需求。")]),s("li",null,[s("p",null,"在 E2LSH 的情况下，内存使用量甚至可能高于原始向量的内存使用量。")]),s("li",null,[s("p",null,"此外，E2LSH 和 FLANN 都需要基于精确的 L2 距离进行最后的重新排序步骤，这就要求如果访问速度很重要的话，索引向量必须存储在主内存中。need to perform a final re-ranking step based on exact L2 distances, which requires the indexed vectors to be stored in main memory if access speed is important.")]),s("li",null,[s("p",null,"这个限制严重限制了这些算法能够处理的向量数量。")]),s("li",null,[s("p",null,"只是在最近，研究人员才提出了限制内存使用量的方法。")]),s("li",null,[s("p",null,"这是涉及大量数据问题的一个关键标准[16]，即在大规模场景识别[17]中，必须对上百万到数十亿张图像进行索引。")]),s("li",null,[s("p",null,[s("mark",null,"方法引入")])]),s("li",null,[s("p",null,"在[17]中，Torralba等人 用一个单一的全局 GIST 描述符(a single global GIST descriptor)[18]来表示(represent)一幅图像，该描述符被映射(mapped to)到一个短的二进制代码(a short binary code)。"),s("ul",null,[s("li",null,"所以 这个就是 压缩映射的 鼻祖吗？ 将一个图像的vector 映射到 a short binary code")])]),s("li",null,[s("p",null,[a("当不使用监督(supervision)时，这种映射(mapping)是通过学习得到的，使得由汉明距离(Hamming distance)定义的嵌入空间中的邻域"),s("mark",null,"反映了"),a("原始特征的欧几里得空间中的邻域。")]),s("ul",null,[s("li",null,"所以编码方案 是要 进行 learn的; 即一个 距离空间的邻域 反映了原始特征的空间中的邻域；")])]),s("li",null,[s("p",null,"然后，欧几里得最近邻的搜索，然后用代码(codes)之间的汉明距离的最近邻的搜索 近似。"),s("ul",null,[s("li",null,"也就是说 近似代替了")])]),s("li",null,[s("p",null,"在[19]中，谱哈希(spectral hashing SH)被证明优于受限Boltzmann machine[17]、boosting和LSH生成的二进制码。类似地，Jegou等人[20]，[21]的Hamming嵌入方法在特征袋(bag-of-features)图像搜索框架中使用二进制签名来细化量化SIFT或GIST描述符.")]),s("li",null,[s("p",null,[s("mark",null,"本文方法")])]),s("li",null,[s("p",null,"在本文中，我们使用量化(quantization)来构建 short codes。")]),s("li",null,[s("p",null,"目标是使用向量到质心(vector-to-centroid)的距离来估计距离，也就是说，查询向量不进行量化，codes 仅分配给数据库向量。"),s("ul",null,[s("li",null,"所以就是说 仅仅对 预先的 basedata进行 构建 short codes 然后 query不进行；")])]),s("li",null,[s("p",null,"这减少了量化噪声，从而提高了搜索质量。")]),s("li",null,[s("p",null,"为了获得精确的距离，量化误差必须受到限制。")]),s("li",null,[s("p",null,[a("因此，质心(centroids)的总数 k 应该足够大，例如，对于 64-bit codes，"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"k"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mn",null,"64")])]),s("annotation",{encoding:"application/x-tex"},"k=2^{64}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8141em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"64")])])])])])])])])])])]),a("。")])]),s("li",null,[s("p",null,"这引发了(raises)关于如何学习码本(codebook)和分配向量的几个问题。")]),s("li",null,[s("p",null,"首先，学习量化器(quantizer)所需的样本samples数量巨大，即数倍于 k。")]),s("li",null,[s("p",null,"其次，算法本身的复杂性令人望而却步。")]),s("li",null,[s("p",null,"最后，地球上可用的计算机内存量不足以存储表示质心的浮点值。")]),s("li",null,[s("p",null,[s("mark",null,"??")])]),s("li",null,[s("p",null,"分层hierarchical k-means(HKM)提高了学习阶段和相应分配过程的效率[15]。然而，前面提到的限制仍然适用，特别是在内存使用和学习集的大小方面。另一种可能是标量量化器，但它们在内存和重建错误之间的权衡方面提供了较差的量化错误属性。"),s("p",null,"晶格量化器为均匀向量分布提供了更好的量化特性，但现实世界中的向量很少满足这一条件。实际上，这些量化器在索引任务中的表现明显不如k-means[22]。在本文中，我们主要研究乘积量化器。据我们所知，在任何最近邻搜索方法中从未考虑过这种半结构化量化器。")])],-1),E=s("h2",{id:"no-2-background-quantization-product-quantizer",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#no-2-background-quantization-product-quantizer","aria-hidden":"true"},"#"),a(" No.2 BACKGROUND: QUANTIZATION, PRODUCT QUANTIZER")],-1),R=s("ul",null,[s("li",null,"关于向量量化(vector quantization)有大量的文献可供参考，关于综述请参见 [24] 。在本节中，我们将介绍的范围限制(restrict)在本文其余部分所使用的符号(notations)和概念(concepts)上。")],-1),H=s("h3",{id:"a-vector-quantization",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#a-vector-quantization","aria-hidden":"true"},"#"),a(" A. Vector quantization")],-1),F=s("ul",null,[s("li",null,[s("p",null,"量化(Quantization)是一个破坏性的过程，在信息论中已被广泛研究[24]。")]),s("li",null,[s("p",null,"它的目的是减少表示空间( representation space)的基数(cardinality)，特别是当输入数据是实值(real-valued)的时候。"),s("ul",null,[s("li",null,"？这个可能还有些疑问？")])]),s("li",null,[s("p",null,[a("形式上，量化器(quantizer)是一个函数"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"q")]),s("annotation",{encoding:"application/x-tex"},"q")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")])])]),a("，它将一个"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"D")]),s("annotation",{encoding:"application/x-tex"},"D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D")])])]),a("维向量"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"x"),s("mo",null,"∈"),s("msup",null,[s("mi",{mathvariant:"double-struck"},"R"),s("mi",null,"D")])]),s("annotation",{encoding:"application/x-tex"},"x\\in\\mathbb{R}^D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.5782em","vertical-align":"-0.0391em"}}),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"∈"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8413em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathbb"},"R"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8413em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"D")])])])])])])])])])]),a("映射(mapping)到一个向量"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"q"),s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{stretchy:"false"},")"),s("mo",null,"∈"),s("mi",null,"C"),s("mo",null,"="),s("mo",{stretchy:"false"},"{"),s("msub",null,[s("mi",null,"c"),s("mi",null,"i")]),s("mo",{separator:"true"},";"),s("mi",null,"i"),s("mo",null,"∈"),s("mi",null,"I"),s("mo",{stretchy:"false"},"}")]),s("annotation",{encoding:"application/x-tex"},"q(x)\\in C=\\{c_i;i\\in I\\}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"∈"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"{"),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"c"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mpunct"},";"),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal"},"i"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"∈"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"mclose"},"}")])])]),a("，其中索引集"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"I")]),s("annotation",{encoding:"application/x-tex"},"I")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I")])])]),a("从现在起被假设为有限的(finite)："),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"I"),s("mo",null,"="),s("mo",{stretchy:"false"},"{"),s("mn",null,"0"),s("mo",{separator:"true"},","),s("mo",null,"⋯"),s("mtext",null," "),s("mo",{separator:"true"},","),s("mi",null,"k"),s("mo",null,"−"),s("mn",null,"1"),s("mo",{stretchy:"false"},"}")]),s("annotation",{encoding:"application/x-tex"},"I = \\{0,\\cdots,k - 1\\}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"{"),s("span",{class:"mord"},"0"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"minner"},"⋯"),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},"}")])])]),a("。再现值(reproduction)"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"c"),s("mi",null,"i")])]),s("annotation",{encoding:"application/x-tex"},"c_i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"c"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a("被称为质心（centroids）。")]),s("ul",null,[s("li",null,[a("一个向量x被映射到q(x)并且 这个新的映射到的向量是 一个 质心 组成的；即"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"c"),s("mi",null,"i")])]),s("annotation",{encoding:"application/x-tex"},"c_i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.5806em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"c"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])])]),s("li",null,"所以这个k也是 subspace的要指定的聚类的 k 个；？？")])]),s("li",null,[s("p",null,[a("再现值(reproduction)集合。C 是大小为 k 的码本。(The set of reproduction values C is the "),s("em",null,"codebook"),a(" of size "),s("em",null,"k"),a(".)")]),s("ul",null,[s("li",null,[a("即"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"C")]),s("annotation",{encoding:"application/x-tex"},"C")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C")])])]),a("是一群k个质心组成的")])])]),s("li",null,[s("p",null,[a("被映射到给定索引"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"i")]),s("annotation",{encoding:"application/x-tex"},"i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6595em"}}),s("span",{class:"mord mathnormal"},"i")])])]),a("的向量集合"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"V"),s("mi",null,"i")])]),s("annotation",{encoding:"application/x-tex"},"V_i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a("被称为（Voronoi）单元，并定义为：")]),s("ul",null,[s("li",null,[s("img",{src:o,alt:"image-20240912221941260",tabindex:"0",loading:"lazy"}),s("figcaption",null,"image-20240912221941260")]),s("li",null,[a("这里的"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"V"),s("mi",null,"i")])]),s("annotation",{encoding:"application/x-tex"},"V_i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a(" 表达的意思 就是 所有的向量属于的被 映射到了 第i 个质心的 向量 集合 即在 这个单元里面；可以用IVF理解；")])])]),s("li",null,[s("p",null,[a("量化器的 k 个单元(cells)形成了"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",{mathvariant:"double-struck"},"R"),s("mi",null,"D")])]),s("annotation",{encoding:"application/x-tex"},"\\mathbb{R}^D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8413em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathbb"},"R"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8413em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.02778em"}},"D")])])])])])])])])])]),a("的一个划分。")]),s("ul",null,[s("li",null,"是这样，所有的向量归属到了 k 个 单元；")])]),s("li",null,[s("p",null,[a("根据定义，位于同一单元"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"V"),s("mi",null,"i")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(V_i)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")")])])]),a("中的所有向量都由同一个质心"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"c"),s("mi",null,"i")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(c_i)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"c"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")")])])]),a("重建。量化器的质量通常通过输入向量(x)与其再现值(q(x))之间的均方误差来衡量。")]),s("ul",null,[s("li",null,[a("感觉这个"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"V"),s("mi",null,"i")])]),s("annotation",{encoding:"application/x-tex"},"V_i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a(" 更像是subspace；就是说， 这里的重建可能是指 “代言”？")]),s("li",null,"感觉 这个 质量 评估 像是 聚类质量的评估?")])]),s("li",null,[s("p",null,[a("其中"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"d"),s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("mi",null,"y"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mi",{mathvariant:"normal"},"∣"),s("mi",{mathvariant:"normal"},"∣"),s("mi",null,"x"),s("mo",null,"−"),s("mi",null,"y"),s("mi",{mathvariant:"normal"},"∣"),s("mi",{mathvariant:"normal"},"∣"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(d(x,y)=\\vert\\vert x - y\\vert\\vert)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},"∣∣"),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mord"},"∣∣"),s("span",{class:"mclose"},")")])])]),a("是(x)和(y)之间的欧几里得距离，其中(p(x))是对应于随机变量(X)的概率分布函数。对于任意概率分布函数，公式3通过蒙特卡洛采样进行数值计算，作为大量样本上"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",{mathvariant:"normal"},"∣"),s("mi",{mathvariant:"normal"},"∣"),s("mi",null,"q"),s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{stretchy:"false"},")"),s("mo",null,"−"),s("mi",null,"x"),s("mi",{mathvariant:"normal"},"∣"),s("msup",null,[s("mi",{mathvariant:"normal"},"∣"),s("mn",null,"2")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(\\vert\\vert q(x)-x\\vert\\vert^{2})")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"∣∣"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0641em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mord"},"∣"),s("span",{class:"mord"},[s("span",{class:"mord"},"∣"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])])])])])])]),s("span",{class:"mclose"},")")])])]),a("的平均值。")])]),s("li")],-1),O=s("ul",null,[s("li",null,[s("p",null,"为了使量化器达到最优，它必须满足两个被称为劳埃德最优性条件的性质。首先，就欧几里得距离而言，一个向量(x)必须被量化到其最近的码本质心( to its nearest codebook centroid)。")]),s("li",null,[s("p",null,"因此，这些单元由超平面界定。劳埃德的第二个条件是重建值必须是位于 Voronoi 单元中的向量的期望。")]),s("li",null,[s("p",null,"对应于 k 均值聚类算法的劳埃德量化器通过迭代地将训练集的向量分配给质心，并从分配的向量中重新估计这些质心，从而找到一个接近最优的码本。在下面的内容中，我们假设两个劳埃德条件成立，因为我们使用 k 均值学习量化器。然而，请注意，k 均值仅在量化误差方面找到局部最优解。"),s("ul",null,[s("li",null,"所以学习量化器就是为了 得到codebooks")])]),s("li"),s("li",null,[s("p",null,[a("另一个在下面将被使用的量是当通过相应的质心"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"c"),s("mi",null,"i")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(c_i)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"c"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")")])])]),a("重建一个单元"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"V"),s("mi",null,"i")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(V_i)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.2222em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")")])])]),a("中的向量时获得的均方失真"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"ξ"),s("mo",{stretchy:"false"},"("),s("mi",null,"q"),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"c"),s("mi",null,"i")]),s("mo",{stretchy:"false"},")"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(\\xi(q,c_i))")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.04601em"}},"ξ"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"c"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},"))")])])]),a("。用"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"p"),s("mi",null,"i")]),s("mo",null,"="),s("mi",null,"P"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(p_i = P)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"p"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mclose"},")")])])]),a("表示。（这里原文中"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"p"),s("mi",null,"i")]),s("mo",null,"="),s("mi",null,"P"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(p_i = P)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"p"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mclose"},")")])])]),a("表述不完整，不太明确具体含义）。")])]),s("li"),s("li",null,[s("p",null,"请注意，均方误差（MSE）可以从这些量中获得。")]),s("li"),s("li",null,[s("p",null,[a("存储索引值的内存成本(The memory cost of storing the index value)，如果没有任何进一步的处理(entropy coding)，是"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("msub",null,[s("mrow",null,[s("mi",null,"log"),s("mo",null,"⁡")]),s("mn",null,"2")]),s("mi",null,"k"),s("mo",{stretchy:"false"},")"),s("mi",null,"b"),s("mi",null,"i"),s("mi",null,"t"),s("mi",null,"s")]),s("annotation",{encoding:"application/x-tex"},"(\\log_2{k}) bits")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mop"},[s("span",{class:"mop"},[a("lo"),s("span",{style:{"margin-right":"0.01389em"}},"g")]),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.207em"}},[s("span",{style:{top:"-2.4559em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2441em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k")]),s("span",{class:"mclose"},")"),s("span",{class:"mord mathnormal"},"bi"),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mord mathnormal"},"s")])])]),a("比特。因此，使用(k)为 2 的幂次方是很方便的(convenient)，因为由量化器产生的代码存储在二进制内存中( as the code")]),s("p",null,"produced by the quantizer is stored in a binary memory)。"),s("ul",null,[s("li",null,"这个 index value 是码本吗？好像不是；"),s("li",null,[a("而是 仅仅 k；即从0~k的索引数值；而比特位是"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mn",null,"2"),s("mi",null,"x")]),s("mo",null,"="),s("mo",null,"="),s("mi",null,"k")]),s("annotation",{encoding:"application/x-tex"},"2^x == k")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6644em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6644em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"x")])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"=="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k")])])]),a(" 表示的数值大小")])])]),s("li",null,[s("p",null,[s("mark",null,"main")])]),s("li",null,[s("p",null,"使用量化 构造 short codes")]),s("li",null,[s("p",null,"距离代替：使用 vector-to-centroid")]),s("li",null,[s("p",null,"查询向量 不用 量化")]),s("li",null,[s("p",null,"仅仅基础数据集的向量 进行 codes")]),s("li",null,[s("p",null,"减少了 量化噪音 并且 提高了 search 质量 ？？？？？")]),s("li",null,[s("p",null,"量化产生误差，然后 需要限制")]),s("li",null,[s("p",null,"进而中心点的K 需要大 多")]),s("li",null,[s("p",null,"如何设置一个 codebook")])],-1),P=i('<p>aforementioned 上述的<br> scalar 数量<br> byproduct 副产品<br> lookups 查找检索<br> comparable 比得上的<br> residual 残留的<br> exhaustive 全面的<br> finite 有限的</p><ul><li>向量量化</li><li>q向量 map 到 D维度 空间</li></ul><h3 id="b-product-quantizers" tabindex="-1"><a class="header-anchor" href="#b-product-quantizers" aria-hidden="true">#</a> <em>B. Product quantizers</em></h3>',3),U=s("ul",null,[s("li",null,[s("p",null,[a("让我们考虑一个 128 维向量，例如 SIFT 描述符( the SIFT descriptor)[23]。一个产生 64 位(64-bits)codes的量化器，即每个分量“仅”0.5 比特，包含"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"k"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mn",null,"64")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(k = 2^{64})")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0641em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"64")])])])])])])])]),s("span",{class:"mclose"},")")])])]),a("​个质心。")]),s("ul",null,[s("li",null,[a("why choose the centroids the "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"k"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mn",null,"64")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(k = 2^{64})")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0641em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"64")])])])])])])])]),s("span",{class:"mclose"},")")])])]),a(" 是因为 64位置可以表示"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"k"),s("mo",null,"="),s("msup",null,[s("mn",null,"2"),s("mn",null,"64")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(k = 2^{64})")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0641em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"64")])])])])])])])]),s("span",{class:"mclose"},")")])])]),a(" 这么多的数据？")]),s("li",null,"主要是因为 其实量化后的一个vector会使用 index value来表示即质心索引数值来表示；目前这里的index可能不是那种图index；而仅仅是数组下标那样的索引index"),s("li",null,"所以这样看的话，最终会得到basedata的 每个的 index value"),s("li",null,"以及得到codebooks 即 k个D维度的float数据； 即 k个质心的存储即codebook")])]),s("li",null,[s("p",null,"因此，不可能使用 Lloyd 算法甚至 HKM（分层 K-Means），因为所需的样本数量和学习量化器的复杂度是(k)的数倍。甚至不可能存储代表(k)个质心的(D×k)个浮点值。"),s("ul",null,[s("li",null,"why cannot use the Lloyd and the HKM? for the"),s("li")])]),s("li",null,[s("p",null,"乘积量化(Product quantization)是解决这些问题的一种有效方案。它是信源编码( source coding)中的一种常见技术，允许选择要联合量化的分量数量（例如，可以使用强大的 Leech lattice对 24 个分量的组进行量化）。allows to choose the number of components to be quantized jointly.")]),s("li",null,[s("p",null,[a("输入向量"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"x")]),s("annotation",{encoding:"application/x-tex"},"x")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"x")])])]),a("被拆分为"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"m")]),s("annotation",{encoding:"application/x-tex"},"m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"m")])])]),a("个不同的子向量(subvectors)"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"u"),s("mi",null,"j")])]),s("annotation",{encoding:"application/x-tex"},"u_j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7167em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"u"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a("，"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mn",null,"1"),s("mo",null,"≤"),s("mi",null,"j"),s("mo",null,"≤"),s("mi",null,"m")]),s("annotation",{encoding:"application/x-tex"},"1\\leq j\\leq m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7804em","vertical-align":"-0.136em"}}),s("span",{class:"mord"},"1"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"≤"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"≤"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"m")])])]),a("，其维度为"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"D"),s("mo",null,"∗")]),s("mo",null,"="),s("mi",null,"D"),s("mi",{mathvariant:"normal"},"/"),s("mi",null,"m")]),s("annotation",{encoding:"application/x-tex"},"D^* = D/m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6887em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),s("span",{class:"mord"},"/"),s("span",{class:"mord mathnormal"},"m")])])]),a("，其中"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"D")]),s("annotation",{encoding:"application/x-tex"},"D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D")])])]),a("是"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"m")]),s("annotation",{encoding:"application/x-tex"},"m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"m")])])]),a("的倍数。这些子向量使用"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"m")]),s("annotation",{encoding:"application/x-tex"},"m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"m")])])]),a("个不同的量化器分别进行量化。因此，给定向量"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"x")]),s("annotation",{encoding:"application/x-tex"},"x")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"x")])])]),a("按如下方式进行映射：")]),s("ul",null,[s("li",null,[s("img",{src:u,alt:"image-20240910113903409",tabindex:"0",loading:"lazy"}),s("figcaption",null,"image-20240910113903409")])])]),s("li",null,[s("p",null,[a("其中，"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"q"),s("mi",null,"j")])]),s("annotation",{encoding:"application/x-tex"},"q_j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7167em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a("是与第"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"j")]),s("annotation",{encoding:"application/x-tex"},"j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.854em","vertical-align":"-0.1944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"j")])])]),a("个子向量相关联的低复杂度量化器。对于子量化器"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"q"),s("mi",null,"j")])]),s("annotation",{encoding:"application/x-tex"},"q_j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7167em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a("，我们关联索引集(index set)"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"I"),s("mi",null,"j")])]),s("annotation",{encoding:"application/x-tex"},"I_j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a("、码本(codebook)"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"C"),s("mi",null,"j")])]),s("annotation",{encoding:"application/x-tex"},"C_j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0715em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a("以及相应的 the corresponding reproduction values )再现值"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"c"),s("mrow",null,[s("mi",null,"j"),s("mo",{separator:"true"},","),s("mi",null,"i")])])]),s("annotation",{encoding:"application/x-tex"},"c_{j,i}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7167em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"c"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j"),s("span",{class:"mpunct mtight"},","),s("span",{class:"mord mathnormal mtight"},"i")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a("。")]),s("ul",null,[s("li",null,[a("这个"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"I"),s("mi",null,"j")])]),s("annotation",{encoding:"application/x-tex"},"I_j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a(" 是？ 是 0~k-1 ？")]),s("li",null,[a("codebook "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"C"),s("mi",null,"j")])]),s("annotation",{encoding:"application/x-tex"},"C_j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.9694em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0715em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a(" 应该就是 表示质心的 float")]),s("li",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"c"),s("mrow",null,[s("mi",null,"j"),s("mo",{separator:"true"},","),s("mi",null,"i")])])]),s("annotation",{encoding:"application/x-tex"},"c_{j,i}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7167em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"c"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j"),s("span",{class:"mpunct mtight"},","),s("span",{class:"mord mathnormal mtight"},"i")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a(" 是新的表示？")])])]),s("li",null,[s("p",null,[a("乘积量化器( product quantizer)的一个再现值( reproduction value)由乘积索引集"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"I"),s("mo",null,"="),s("msub",null,[s("mi",null,"I"),s("mn",null,"1")]),s("mo",null,"×"),s("mo",null,"…"),s("mo",null,"×"),s("msub",null,[s("mi",null,"I"),s("mi",null,"m")])]),s("annotation",{encoding:"application/x-tex"},"I = I_1×…×I_m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3011em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"1")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6667em","vertical-align":"-0.0833em"}}),s("span",{class:"minner"},"…"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0785em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"m")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a("的一个元素确定。因此，码本被定义为笛卡尔积( the Cartesian product )。")]),s("ul",null,[s("li",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"C"),s("mo",null,"="),s("mi",null,"C"),s("mn",null,"1"),s("mo",null,"×"),s("mi",{mathvariant:"normal"},"."),s("mi",{mathvariant:"normal"},"."),s("mi",{mathvariant:"normal"},"."),s("mo",null,"×"),s("mi",null,"C"),s("mi",null,"m"),s("mtext",null,"，（"),s("mn",null,"9"),s("mtext",null,"）")]),s("annotation",{encoding:"application/x-tex"},"C = C1×...×Cm，（9）")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7667em","vertical-align":"-0.0833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),s("span",{class:"mord"},"1"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6667em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},"..."),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C"),s("span",{class:"mord mathnormal"},"m"),s("span",{class:"mord cjk_fallback"},"，（"),s("span",{class:"mord"},"9"),s("span",{class:"mord cjk_fallback"},"）")])])]),a("。")])])]),s("li",null,[s("p",null,[a("这个集合的一个质心是"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"m")]),s("annotation",{encoding:"application/x-tex"},"m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"m")])])]),a("个子量化器的质心的连接。从现在起，我们假设所有子量化器都有相同的有限数量"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("个再现值。在这种情况下，质心的总数由下式给出：")])]),s("li",null,[s("p",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"k"),s("mo",null,"="),s("mo",{stretchy:"false"},"("),s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")]),s("msup",null,[s("mo",{stretchy:"false"},")"),s("mi",null,"m")])]),s("annotation",{encoding:"application/x-tex"},"k = (k^*)^m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])]),s("span",{class:"mclose"},[s("span",{class:"mclose"},")"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6644em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"m")])])])])])])])])])])])]),s("li",null,[s("p",null,[a("注意，在极端情况下，当"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"m"),s("mo",null,"="),s("mi",null,"D")]),s("annotation",{encoding:"application/x-tex"},"m = D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"m"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D")])])]),a("时，向量"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"x")]),s("annotation",{encoding:"application/x-tex"},"x")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"x")])])]),a("的各个分量都被单独量化。那么乘积量化器就变成了标量量化器(a scalar quantizer)，其中与每个分量相关联的量化函数可能不同。")])]),s("li",null,[s("p",null,[a("乘积量化器的优势在于从几个小的质心集合（即与子量化器相关联的那些质心集合）中产生大量的质心。在使用 Lloyd 算法学习子量化器时，使用的向量数量有限，但在某种程度上，码本仍然适应要表示的数据分布。学习量化器的复杂度是使用"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("个维度为"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"D"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"D^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6887em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("的质心进行 k-均值聚类复杂度的"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"m")]),s("annotation",{encoding:"application/x-tex"},"m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"m")])])]),a("倍。")])]),s("li",null,[s("p",null,[a("显式地存储码本 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"C")]),s("annotation",{encoding:"application/x-tex"},"C")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"C")])])]),a(" 是低效的。相反，我们存储所有子量化器的"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"m"),s("mo",null,"×"),s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"m×k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6667em","vertical-align":"-0.0833em"}}),s("span",{class:"mord mathnormal"},"m"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"×"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("个质心，即"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"m"),s("msup",null,[s("mi",null,"D"),s("mo",null,"∗")]),s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")]),s("mo",null,"="),s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")]),s("mi",null,"D")]),s("annotation",{encoding:"application/x-tex"},"mD^*k^* = k^*D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord mathnormal"},"m"),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])]),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])]),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D")])])]),a("个浮点数。对一个元素进行量化需要"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")]),s("mi",null,"D")]),s("annotation",{encoding:"application/x-tex"},"k^*D")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])]),s("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D")])])]),a("次浮点运算。表 I 总结了与 k-均值、HKM 和乘积 k-均值相关的资源需求。很明显，对于较大的 k 值，乘积量化器是唯一可以在内存中建立索引的量化器。")]),s("ul",null,[s("li",null,"也就是说 质心的数量 是 比较关键的；")])]),s("li",null,[s("p",null,[a("为了在选择一个恒定的"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("值时提供良好的量化特性，每个子向量平均应该具有相当的能量。确保这一特性的一种方法是在量化之前将向量乘以一个随机正交矩阵。然而，对于大多数向量类型，这既不是必需的也不推荐，因为连续的分量通常在构造上是相关的，并且最好与相同的子量化器一起进行量化。由于子空间是正交的，与乘积量化器相关的平方失真为……")])]),s("li",null,[s("p",null,[a("其中 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"M"),s("mi",null,"S"),s("mi",null,"E"),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"q"),s("mi",null,"j")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"MSE(q_j)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.0361em","vertical-align":"-0.2861em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"MSE"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])]),s("span",{class:"mclose"},")")])])]),a("是与量化器 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"q"),s("mi",null,"j")])]),s("annotation",{encoding:"application/x-tex"},"q_j")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7167em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05724em"}},"j")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a("相关的失真。图 1 展示了不同"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"m"),s("mo",{separator:"true"},","),s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")]),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(m,k^*)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"m"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])]),s("span",{class:"mclose"},")")])])]),a("元组下均方误差（MSE）作为码长的函数，其中如果 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("是 2 的幂次方，码长 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"l"),s("mo",null,"="),s("mi",null,"m"),s("mi",null,"l"),s("mi",null,"o"),s("msub",null,[s("mi",null,"g"),s("mn",null,"2")]),s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"l = m log_2k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),s("span",{class:"mord mathnormal"},"m"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3011em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("。这些曲线是针对一组 128 维的 SIFT 描述符得到的，详情见第五节。可以观察到，对于固定的位数，使用少量具有大量质心的子量化器比使用大量具有少量位数的子量化器更好。在极端情况下，当 m = 1 时，乘积量化器就变成了常规的 k-均值码本。")])]),s("li",null,[s("p",null,[a("较大的 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("值会增加量化器的计算成本，如表 I 所示。它们还会增加存储质心的内存使用量（ "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a("×D 个浮点数），如果质心查找表不再适合放入缓存内存中，这会进一步降低效率。在 m = 1 的情况下，为了使成本易于处理，我们不能使用超过 16 位。使用 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a(" = 256 和 m = 8 通常是一个合理的选择。")])])],-1),B=s("h2",{id:"no-3-searching-with-quantization",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#no-3-searching-with-quantization","aria-hidden":"true"},"#"),a(" No.3 SEARCHING WITH QUANTIZATION")],-1),Q=s("ul",null,[s("li",null,"最近邻搜索取决于查询向量与数据库向量(n个)之间的距离，或者等效地说是平方距离。本节介绍的方法基于源编码技术的精神，根据向量的量化索引来比较向量。我们首先解释如何利用乘积量化器的属性来计算距离。然后，我们给出距离估计误差的统计界限，并为平方欧几里得距离提出一个改进的估计量。")],-1),G=s("h3",{id:"a-computing-distances-using-quantized-codes",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#a-computing-distances-using-quantized-codes","aria-hidden":"true"},"#"),a(" A. Computing distances using quantized codes")],-1),K=s("ul",null,[s("li",null,[s("p",null,[a("让我们考虑查询向量 "),s("code",null,"x"),a(" 和数据库向量 "),s("code",null,"y"),a(" 。我们提出两种方法来计算这些向量之间的近似欧几里得距离，一种是对称的，一种是非对称的。有关示例，请参见图 2 。")]),s("ul",null,[s("li",null,[s("img",{src:g,alt:"image-20240804184007642",tabindex:"0",loading:"lazy"}),s("figcaption",null,"image-20240804184007642")])])]),s("li",null,[s("p",null,[a("对称距离计算（SDC）：向量 "),s("code",null,"x"),a(" 和 "),s("code",null,"y"),a(" 都分别由它们各自的质心 "),s("code",null,"q(x)"),a(" 和 "),s("code",null,"q(y)"),a(" 表示。距离 "),s("code",null,"d(x, y)"),a(" 由距离 "),s("code",null,"d̂(x, y)"),a(" 近似，"),s("code",null,"d")])]),s("li",null,[s("p",null,[a("对称距离计算（SDC）：向量"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{stretchy:"false"},")"),s("mtext",null,"和"),s("mo",{stretchy:"false"},"("),s("mi",null,"y"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(x)和(y)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mclose"},")"),s("span",{class:"mord cjk_fallback"},"和"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mclose"},")")])])]),a("都由它们各自的质心"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"q"),s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{stretchy:"false"},")"),s("mo",{stretchy:"false"},")"),s("mtext",null,"和"),s("mo",{stretchy:"false"},"("),s("mi",null,"q"),s("mo",{stretchy:"false"},"("),s("mi",null,"y"),s("mo",{stretchy:"false"},")"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(q(x))和(q(y))")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mclose"},"))"),s("span",{class:"mord cjk_fallback"},"和"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mclose"},"))")])])]),a("表示。距离"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mi",null,"d"),s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("mi",null,"y"),s("mo",{stretchy:"false"},")"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(d(x,y))")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mclose"},"))")])])]),a("由近似距离"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"("),s("mover",{accent:"true"},[s("mi",null,"d"),s("mo",null,"^")]),s("mo",{stretchy:"false"},"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("mi",null,"y"),s("mo",{stretchy:"false"},")"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"(\\hat{d}(x,y))")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.2079em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord accent"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.9579em"}},[s("span",{style:{top:"-3em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord mathnormal"},"d")]),s("span",{style:{top:"-3.2634em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"accent-body",style:{left:"-0.0833em"}},[s("span",{class:"mord"},"^")])])])])])]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mclose"},"))")])])]),a("来近似。")]),s("ul",null,[s("li",null,[s("img",{src:d,alt:"image-20240910143938954",tabindex:"0",loading:"lazy"}),s("figcaption",null,"image-20240910143938954")])])])],-1),Z=s("p",null,"​",-1),Y=s("ul",null,[s("li",null,[a("这里要充分想到代言人的 作用；即使用质心代替原始向量，所以是计算两个质心的距离 "),s("ul",null,[s("li",null,"不过之前在知乎上看到的 distanceTable 是query和codebook的距离计算；"),s("li",null,"所以这里存储的pre-computed squared distances是质心and质心之间的距离；"),s("li")])])],-1),X=s("h4",{id:"asymmetric-distance-computation-adc",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#asymmetric-distance-computation-adc","aria-hidden":"true"},"#"),a(),s("strong",null,"Asymmetric distance computation (ADC)")],-1),W=s("ul",null,[s("li",null,[s("ul",null,[s("li",null,"这里的话query不进行encode；那么就是说 query没有被代言，没有误差，但是肯定是会切段的；"),s("li")])]),s("li",null,[s("p",null,"对于最近邻搜索，在实际中我们不计算平方根：平方根函数是单调递增的，并且平方距离会产生相同的向量排序。")]),s("li",null,[s("ul",null,[s("li",null,[a("SDC的encoding x的复杂度 是"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")]),s("mi",null,"N")]),s("annotation",{encoding:"application/x-tex"},"k^* N")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])]),s("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"N")])])]),a(" 是因为要与codebook计算 属于哪个质心；")]),s("li",null,"compute 的 是0 是因为 质心与质心的距离计算 之前已经存储到了pre-computed squared distances"),s("li",null,"然后 进行 n个basedata 和 m个段 的 时间复杂度；")])]),s("li",null,[s("p",null,"SDC 相对于 ADC 的唯一优势是限制与查询相关的内存使用，因为查询向量由一个代码定义。在大多数情况下，这并不相关，因此应该使用非对称版本，对于类似的复杂度，它能获得更低的距离失真。在本节的其余部分，我们将重点关注 ADC。"),s("ul",null,[s("li",null,"why？")])])],-1),J=s("h3",{id:"b-analysis-of-the-distance-error",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#b-analysis-of-the-distance-error","aria-hidden":"true"},"#"),a(),s("em",null,"B. Analysis of the distance error")],-1),$=s("ul",null,[s("li",null,[s("ul",null,[s("li",null,"分析了 error， 所以 看看 如何进行抵消/ or 进行降低其带来的；"),s("li",null,[a("因为肯定会有error 毕竟basedata被 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a(" 个质心给代替了；")])])])],-1),ss=s("h3",{id:"c-estimator-of-the-squared-distance",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#c-estimator-of-the-squared-distance","aria-hidden":"true"},"#"),a(),s("em",null,"C. Estimator of the squared distance")],-1),as=s("ul",null,[s("li",null,[s("ul",null,[s("li",null,[a("感觉这里就是 抵消如何抵消的；将"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"d"),s("mo",{stretchy:"false"},"("),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"d()")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mopen"},"("),s("span",{class:"mclose"},")")])])]),a(" 计算方式再进行改进，变成"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"e"),s("mo",{stretchy:"false"},"("),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"e()")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"e"),s("span",{class:"mopen"},"("),s("span",{class:"mclose"},")")])])]),a(" ，")]),s("li",null,[a("并且呢 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"e"),s("mo",{stretchy:"false"},"("),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"e()")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"e"),s("span",{class:"mopen"},"("),s("span",{class:"mclose"},")")])])]),a(" 这个呢 也是前面公式的组合；")])])]),s("li",null,[s("p",null,"在我们的实验中，我们观察到校正平均来说会返回较差的结果。因此，我们主张在最近邻搜索中使用公式13。校正版本只有在我们对距离本身感兴趣时才有用。"),s("ul",null,[s("li",null,[a("所以平常的search 还是 直接 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"d"),s("mo",{stretchy:"false"},"("),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"},"d()")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mopen"},"("),s("span",{class:"mclose"},")")])])]),a(" 距离计算；")])])])],-1),ls=i('<h2 id="no-4-non-exhaustive-search" tabindex="-1"><a class="header-anchor" href="#no-4-non-exhaustive-search" aria-hidden="true">#</a> No.4 NON EXHAUSTIVE SEARCH</h2><ul><li><p>使用乘积量化器进行近似最近邻搜索速度很快（每次距离计算仅需进行 m 次加法），并且显著(significantly)降低了存储描述符的内存需求。</p><ul><li>因为 每次比较的话就是 计算距离，再加上 distance table 即 仅仅需要将m段的相加即可；</li></ul></li><li><p>然而，这种搜索是穷举式的(exhaustive)。在全局图像描述的背景下，该方法仍然具有可扩展性[17]、[19]。但是，如果每个图像由一组局部描述符来描述，那么穷举搜索是不可行的，因为我们需要为数十亿个描述符建立索引并执行多次查询[20]。</p></li><li><ul><li>就是说上述的search is exhaustive; 因为是跟basedata的全部代表的质心进行d计算了；</li><li>但是这样 等到N很大的时候 是 禁止 的 因为 其 上述的时间复杂度 是 关于n的线性的；</li></ul></li><li><ul><li>so 提出与IVF+ADC</li></ul></li></ul><p>关于IVF：</p><ul><li><p>肯定要 了解下 IVF的；</p></li><li><p>IVF好像是 将在一个类中的进行查询了；</p></li><li><p>coarse quantizer 这个是较为重要的；</p></li></ul><h3 id="a-coarse-quantizer-locally-defined-product-quantizer" tabindex="-1"><a class="header-anchor" href="#a-coarse-quantizer-locally-defined-product-quantizer" aria-hidden="true">#</a> A. Coarse quantizer, locally defined product quantizer</h3>',5),ts=s("ul",null,[s("li",null,[s("ul",null,[s("li",null,[s("em",null,"coarse quantizer"),a(" 所以这个东西 就是 经过kmeans训练得到q的过程；")]),s("li",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"q"),s("mi",null,"c")])]),s("annotation",{encoding:"application/x-tex"},"q_c")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"c")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a(" 是量化器 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"q"),s("mi",null,"p")])]),s("annotation",{encoding:"application/x-tex"},"q_p")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7167em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"p")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])])])])]),a(" 是对残差进行编码；")]),s("li")])])],-1),ns=i('<h3 id="b-indexing-structure" tabindex="-1"><a class="header-anchor" href="#b-indexing-structure" aria-hidden="true">#</a> <em>B. Indexing structure</em></h3><h3 id="c-search-algorithm" tabindex="-1"><a class="header-anchor" href="#c-search-algorithm" aria-hidden="true">#</a> <em>C. Search algorithm</em></h3><ul><li><ul><li>就是说虽然 query 和 其最近的one 可能不在一个 量化质心；但是可能是量化到附近的质心</li><li>如何解决呢？ 就是 对于query(x) 实行多分配，即量化到多个 质心，扫描多排；</li><li>但是对于 basedata并不会进行这样的多分配；</li></ul></li></ul><h2 id="no-5-evaluation-of-nn-search" tabindex="-1"><a class="header-anchor" href="#no-5-evaluation-of-nn-search" aria-hidden="true">#</a> No.5 EVALUATION OF NN SEARCH</h2><h3 id="a-datasets" tabindex="-1"><a class="header-anchor" href="#a-datasets" aria-hidden="true">#</a> <em>A. Datasets</em></h3><h3 id="b-memory-vs-search-accuracy-trade-offs" tabindex="-1"><a class="header-anchor" href="#b-memory-vs-search-accuracy-trade-offs" aria-hidden="true">#</a> <em>B. Memory</em> vs <em>search accuracy: trade-offs</em></h3><ul><li><ul><li>我们观察到，召回率@100强烈依赖于这些参数，并且如果 w 不够大，增加码长是没有用的，因为那些没有被分配到与查询相关的 w 个质心之一的最近邻肯定会丢失。</li></ul></li></ul><h3 id="c-impact-of-the-component-grouping" tabindex="-1"><a class="header-anchor" href="#c-impact-of-the-component-grouping" aria-hidden="true">#</a> <em>C. Impact of the component grouping</em></h3><h3 id="d-comparison-with-the-state-of-the-art" tabindex="-1"><a class="header-anchor" href="#d-comparison-with-the-state-of-the-art" aria-hidden="true">#</a> <em>D. Comparison with the state of the art</em></h3><h3 id="e-complexity-and-speed" tabindex="-1"><a class="header-anchor" href="#e-complexity-and-speed" aria-hidden="true">#</a> <em>E. Complexity and speed</em></h3><h3 id="f-large-scale-experiments" tabindex="-1"><a class="header-anchor" href="#f-large-scale-experiments" aria-hidden="true">#</a> <em>F. Large-scale experiments</em></h3><ul><li><p>为了评估乘积量化方法在更大数据集上的搜索效率，我们从一百万张图像中提取(extracted)了大约二十亿个 SIFT 描述符。使用来自十张图像的 30000 个查询描述符进行搜索。</p></li><li><p>我们比较了具有相似参数的 IVFADC 和 HE 方法。特别是，每种方法扫描的内存量以及粗量化的成本是相同的。</p></li><li><p>In particular, the amount of memory that is scanned for each method and the cost of the coarse quantization are the same.</p></li><li><p>所以 这个 coarse quantization的 是个怎么回事呢/？</p></li><li><p>每个描述符的查询时间如图 11 所示。对于较小的数据库规模，IVFADC 所需的额外(extra)量化步骤的成本清晰可见。</p></li><li><p>对于较大规模，与数据库向量的距离计算变得占主导地位(preponderant)。在两种情况下，应用于倒排列表中每个元素的处理成本大致相同。对于 HE，它是一个汉明距离计算，通过 8 次表查找实现。对于 IVFADC，它也是一个通过 8 次表查找执行的距离计算。有趣的是，IVFADC 中涉及的浮点运算(floating point operations)并不比 HE 的简单二进制运算(simple binary operations)昂贵多少。</p></li></ul><h3 id="g-image-search" tabindex="-1"><a class="header-anchor" href="#g-image-search" aria-hidden="true">#</a> <em>G. Image search</em></h3>',13),es=s("ul",null,[s("li",null,[s("p",null,"我们在基于局部描述符( local descriptors)的图像搜索系统中评估了我们的方法。在这次评估中，我们在 INRIA Holidays 数据集上使用在线提供的预处理描述符集(pre-processed set of descriptors available online)，将我们的方法与[20]中的 HE 方法进行比较。比较聚焦于大规模索引，即我们不考虑后验证步骤[23]、[31]或几何信息[20]的影响。"),s("ul",null,[s("li",null,"这个是聚焦于 大规模 索引 数据；")])]),s("li",null,[s("p",null,"图 12 展示了以平均精度均值(mean average precision:mAP)作为数据集大小的函数的搜索性能。")]),s("li",null,[s("p",null,[a("对于这两种方法，我们都使用了相同的粗量化器( coarse quantizer)（"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"k"),s("mtext",null,"‘")])]),s("annotation",{encoding:"application/x-tex"},"k^‘")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8491em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8491em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"‘")])])])])])])])])])]),a(" = 20,000）和单一分配策略(a single assignment strategy::w = 1），并且对于 IVFADC 固定 k* = 256。")]),s("ul",null,[s("li",null,"这里的 coarse quantizer 是 使用pq 还是说单一的quantizer？？？"),s("li",null,[a("固定了 IVFADC的 k* = 256 即 bits / m = "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"l"),s("mi",null,"o"),s("msub",null,[s("mi",null,"g"),s("mn",null,"2")]),s("msup",null,[s("mi",null,"k"),s("mo",null,"∗")])]),s("annotation",{encoding:"application/x-tex"},"log_2 k^*")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3011em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6887em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mbin mtight"},"∗")])])])])])])])])])]),a(" 可以看看这个图12；")]),s("li",null,"即参数 是 m。和 bits per sets")])]),s("li",null,[s("p",null,"For a given number of bits (32 or 64)，我们为 HE 选择了最佳的汉明阈值。类似地，我们调整了 IVFADC 要检索(retrieved)的最近邻数量。")])],-1),is=i('<h2 id="no-6-conclusion" tabindex="-1"><a class="header-anchor" href="#no-6-conclusion" aria-hidden="true">#</a> No.6 CONCLUSION</h2><ul><li>我们引入了乘积量化( product quantization)用于近似最近邻搜索。我们的紧凑编码方案( compact coding scheme)为欧几里得距离( the Euclidean distance)提供了准确的近似( accurate approximation)。 <ul><li>其实还是 对距离的近似，</li></ul></li><li>此外，它与倒排文件系统( inverted file system)相结合以避免穷举搜索(exhaustive search)，从而实现了高效率。 <ul><li>原始PQ的search就是 穷举；</li></ul></li><li>在搜索质量和内存使用之间的权衡方面，我们的方法显著优于现有技术水平。SIFT 和 GIST 图像描述符的实验结果非常出色，并且表明基于我们对描述符设计的先验知识(our prior knowledge)对组件进行分组(grouping the components)进一步改善了结果。我们的方法在二十亿个向量的数据集上验证了(validated)其可扩展性。</li></ul><h2 id="problems" tabindex="-1"><a class="header-anchor" href="#problems" aria-hidden="true">#</a> Problems</h2>',3);function ms(ps,rs){const e=m("ExternalLinkIcon"),t=m("router-link");return r(),c("div",null,[x,w,h(" more "),s("div",v,[k,s("ul",null,[b,M,s("li",null,[s("p",null,[a("paper:"),z,a(" 向量检索：IVFPQ索引原理 PQ（1） - 朱菜狗的文章 - 知乎："),s("a",f,[a("https://zhuanlan.zhihu.com/p/635665517"),l(e)]),_,a(" 向量检索：IVFPQ索引原理 （2） - 朱菜狗的文章 - 知乎："),s("a",q,[a("https://zhuanlan.zhihu.com/p/635724948"),l(e)]),L,a(" 精通推荐算法12：向量检索技术 - 谢杨易的文章 - 知乎："),s("a",I,[a("https://zhuanlan.zhihu.com/p/707388642"),l(e)])])]),s("li",null,[s("p",null,[a("code："),N,s("a",C,[a("https://www.pinecone.io/learn/series/faiss/"),l(e)]),D,s("a",A,[a("https://www.pinecone.io/learn/series/faiss/product-quantization/"),l(e)])])])])]),s("nav",S,[s("ul",null,[s("li",null,[l(t,{to:"#no-0-abstract"},{default:n(()=>[a("No.0 ABSTRACT")]),_:1})]),s("li",null,[l(t,{to:"#no-1-introduction"},{default:n(()=>[a("No.1 INTRODUCTION")]),_:1})]),s("li",null,[l(t,{to:"#no-2-background-quantization-product-quantizer"},{default:n(()=>[a("No.2 BACKGROUND: QUANTIZATION, PRODUCT QUANTIZER")]),_:1}),s("ul",null,[s("li",null,[l(t,{to:"#a-vector-quantization"},{default:n(()=>[a("A. Vector quantization")]),_:1})]),s("li",null,[l(t,{to:"#b-product-quantizers"},{default:n(()=>[a("B. Product quantizers")]),_:1})])])]),s("li",null,[l(t,{to:"#no-3-searching-with-quantization"},{default:n(()=>[a("No.3 SEARCHING WITH QUANTIZATION")]),_:1}),s("ul",null,[s("li",null,[l(t,{to:"#a-computing-distances-using-quantized-codes"},{default:n(()=>[a("A. Computing distances using quantized codes")]),_:1})]),s("li",null,[l(t,{to:"#b-analysis-of-the-distance-error"},{default:n(()=>[a("B. Analysis of the distance error")]),_:1})]),s("li",null,[l(t,{to:"#c-estimator-of-the-squared-distance"},{default:n(()=>[a("C. Estimator of the squared distance")]),_:1})])])]),s("li",null,[l(t,{to:"#no-4-non-exhaustive-search"},{default:n(()=>[a("No.4 NON EXHAUSTIVE SEARCH")]),_:1}),s("ul",null,[s("li",null,[l(t,{to:"#a-coarse-quantizer-locally-defined-product-quantizer"},{default:n(()=>[a("A. Coarse quantizer, locally defined product quantizer")]),_:1})]),s("li",null,[l(t,{to:"#b-indexing-structure"},{default:n(()=>[a("B. Indexing structure")]),_:1})]),s("li",null,[l(t,{to:"#c-search-algorithm"},{default:n(()=>[a("C. Search algorithm")]),_:1})])])]),s("li",null,[l(t,{to:"#no-5-evaluation-of-nn-search"},{default:n(()=>[a("No.5 EVALUATION OF NN SEARCH")]),_:1}),s("ul",null,[s("li",null,[l(t,{to:"#a-datasets"},{default:n(()=>[a("A. Datasets")]),_:1})]),s("li",null,[l(t,{to:"#b-memory-vs-search-accuracy-trade-offs"},{default:n(()=>[a("B. Memory vs search accuracy: trade-offs")]),_:1})]),s("li",null,[l(t,{to:"#c-impact-of-the-component-grouping"},{default:n(()=>[a("C. Impact of the component grouping")]),_:1})]),s("li",null,[l(t,{to:"#d-comparison-with-the-state-of-the-art"},{default:n(()=>[a("D. Comparison with the state of the art")]),_:1})]),s("li",null,[l(t,{to:"#e-complexity-and-speed"},{default:n(()=>[a("E. Complexity and speed")]),_:1})]),s("li",null,[l(t,{to:"#f-large-scale-experiments"},{default:n(()=>[a("F. Large-scale experiments")]),_:1})]),s("li",null,[l(t,{to:"#g-image-search"},{default:n(()=>[a("G. Image search")]),_:1})])])]),s("li",null,[l(t,{to:"#no-6-conclusion"},{default:n(()=>[a("No.6 CONCLUSION")]),_:1})]),s("li",null,[l(t,{to:"#problems"},{default:n(()=>[a("Problems")]),_:1})])])]),j,T,V,E,R,H,F,O,P,U,B,Q,G,K,Z,Y,X,W,J,$,ss,as,ls,ts,ns,es,is])}const os=p(y,[["render",ms],["__file","PQ.html.vue"]]);export{os as default};
