import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o as c,c as l,d as u,a as n,e as p,w as t,b as s,f as i}from"./app-2a2d189a.js";const k={},r=n("h1",{id:"c-层次分析法ahp",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#c-层次分析法ahp","aria-hidden":"true"},"#"),s(" C-层次分析法AHP")],-1),m=n("p",null,"C-层次分析法AHP",-1),d={class:"table-of-contents"},b=i(`<h2 id="一、简单介绍" tabindex="-1"><a class="header-anchor" href="#一、简单介绍" aria-hidden="true">#</a> 一、简单介绍</h2><ul><li>一般用来 确定 主观性 的 权重 。。</li><li>做决策，去哪旅游，通过指标，综合考虑做决策</li><li>是一种解决多目标的复杂问题的定性与定量相结合的决策分析方法。该方法将定量分析与定性分析结合起来，用决策者的经验判断各衡量目标能否实现的标准之间的相对重要程度，并合理地给出每个决策方案的每个标准的权数，利用权数求出各方案的优劣次序，比较有效地应用于那些难以用定量方法解决的课题。<br><br></li></ul><h2 id="二、注意事项" tabindex="-1"><a class="header-anchor" href="#二、注意事项" aria-hidden="true">#</a> 二、注意事项</h2><ul><li>指标选择:</li><li>(1)指标选择一定要有依据，并且要说明为什么要选这些指标以及指标代表的含义</li><li>权重由来：</li><li>(1)比如要确定景色、花费等五个指标的权重，该如何确定呢？</li><li>(2)如果一次性考虑五个指标的关系，往往考虑不周</li><li>(3)【解决办法】两个两个指标之间进行比较，最终根据两两比较的结果来推算出权重。——层次分析法的思想</li><li>打分得判断矩阵</li><li>(1)主观性得体现，是通过 评委进行 打分 还是 自己 进行 打分 等等</li><li>(2)【注意】层次分析法的判断矩阵（上面这张表）实际需要给专家填写。</li><li>判断矩阵不一致问题</li><li>(1)可能是通过 打分 得到得 矩阵 结果是：A&gt;B A=C B&gt;C 打分 不严谨 导致的</li><li>(2)【注意】在使用判断矩阵求权重之前，必须对其进行一致性检验。</li><li>一致性检验</li><li>(1)如何判断一致性偏差是否在允许接受的范围内呢？——一致性检验</li><li>(2)【原理】检验我们构造的判断矩阵和一致矩阵是否有太大的差别。</li></ul><p><strong>一致性检验代码</strong>：</p><div class="language-matlab line-numbers-mode" data-ext="matlab"><pre class="language-matlab"><code><span class="token comment">% 当CR&lt;0.1 可以接受</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br><h2 id="三、方法步骤" tabindex="-1"><a class="header-anchor" href="#三、方法步骤" aria-hidden="true">#</a> 三、方法步骤</h2><br><h2 id="四、模型方程建立与求解" tabindex="-1"><a class="header-anchor" href="#四、模型方程建立与求解" aria-hidden="true">#</a> 四、模型方程建立与求解</h2><br><h2 id="五、案例分析" tabindex="-1"><a class="header-anchor" href="#五、案例分析" aria-hidden="true">#</a> 五、案例分析</h2><p>层次分析代码</p><div class="language-matlab line-numbers-mode" data-ext="matlab"><pre class="language-matlab"><code><span class="token comment">%cengci.m  文件</span>
<span class="token comment">%层次分析法权重函数</span>
<span class="token keyword">function</span> <span class="token punctuation">[</span>w<span class="token punctuation">,</span>CR<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cengci</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token operator">~</span><span class="token punctuation">,</span> n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token function">ones</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
y <span class="token operator">=</span> <span class="token function">ones</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">m</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> A<span class="token operator">*</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">m</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p <span class="token operator">=</span> <span class="token number">0.0001</span><span class="token punctuation">;</span>
<span class="token number">i</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
k <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span>  k<span class="token operator">&gt;</span>p
    <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">i</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">x</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">=</span> A<span class="token operator">*</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">i</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">m</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    k <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
a <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
w <span class="token operator">=</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token operator">/</span>a<span class="token punctuation">;</span>
t <span class="token operator">=</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">%一致性检验</span>
CI <span class="token operator">=</span> <span class="token punctuation">(</span>t<span class="token operator">-</span>n<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
RI <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0.52</span> <span class="token number">0.89</span> <span class="token number">1.12</span> <span class="token number">1.26</span> <span class="token number">1.36</span> <span class="token number">1.41</span> <span class="token number">1.46</span> <span class="token number">1.49</span> <span class="token number">1.52</span> <span class="token number">1.54</span> <span class="token number">1.56</span> <span class="token number">1.58</span> <span class="token number">1.59</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
CR <span class="token operator">=</span> CI<span class="token operator">/</span><span class="token function">RI</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> CR <span class="token operator">&gt;=</span> <span class="token number">0.1</span> 
    <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;CR=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">disp</span><span class="token punctuation">(</span>CR<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;一致性检验不通过，继续修改判断矩阵&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> 
    <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;CR=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">disp</span><span class="token punctuation">(</span>CR<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;判断矩阵的一致性可以接受&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">disp</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>


<span class="token comment">%main.m 文件</span>
<span class="token comment">%A是判断 矩阵 ，，</span>
<span class="token comment">%使用层次分析法权重函数</span>
clear
clc
<span class="token comment">%输入自己的判断矩阵</span>
A<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">3</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">4</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span> <span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>w<span class="token punctuation">,</span>CR<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cengci</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>主函数代码：</p><div class="language-matlab line-numbers-mode" data-ext="matlab"><pre class="language-matlab"><code><span class="token comment">% main.m  放在一个 主文件里面 进行 计算得。</span>
<span class="token comment">%A是判断 矩阵 ，，</span>
A<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">3</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">4</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span> <span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">%这里输入你要分析的A矩阵，这里随便输入了一个</span>
<span class="token punctuation">[</span>n<span class="token punctuation">,</span><span class="token operator">~</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">size</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">%由于矩阵构造方法的原因，矩阵都是正方形的所以关于矩阵的大小只需要取一个参数</span>
Asum<span class="token operator">=</span><span class="token function">sum</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">%求每一列的和</span>
Aprogress<span class="token operator">=</span>A<span class="token operator">./</span><span class="token punctuation">(</span><span class="token function">ones</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>Asum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">%计算每一列各个元素在这一列占的比重</span>
W<span class="token operator">=</span><span class="token function">sum</span><span class="token punctuation">(</span>Aprogress<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">./</span>n<span class="token punctuation">;</span><span class="token comment">%每一行元素相加取平均值，需要注意这里W是个列向量且所有值加起来等于1</span>
w<span class="token operator">=</span>A<span class="token operator">*</span>W<span class="token punctuation">;</span><span class="token comment">%如果A的矩阵是理想状况的话这里W=w</span>
lam<span class="token operator">=</span><span class="token function">sum</span><span class="token punctuation">(</span>w<span class="token operator">./</span>W<span class="token punctuation">)</span><span class="token operator">/</span>n<span class="token punctuation">;</span><span class="token comment">%通过这一步最大lam</span>
RI<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.58</span><span class="token punctuation">,</span><span class="token number">0.9</span><span class="token punctuation">,</span><span class="token number">1.12</span><span class="token punctuation">,</span><span class="token number">1.24</span><span class="token punctuation">,</span><span class="token number">1.32</span><span class="token punctuation">,</span><span class="token number">1.41</span><span class="token punctuation">,</span><span class="token number">1.45</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
CI<span class="token operator">=</span><span class="token punctuation">(</span>lam<span class="token operator">-</span>n<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
CR<span class="token operator">=</span>CI<span class="token operator">/</span><span class="token function">RI</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">%计算误差</span>
<span class="token keyword">if</span> CR<span class="token operator">&lt;</span><span class="token number">0.10</span> <span class="token comment">%如果误差小于0.1则可以接受</span>
	<span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;此矩阵的一致性可以接受!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;CI=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">disp</span><span class="token punctuation">(</span>CI<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;CR=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">disp</span><span class="token punctuation">(</span>CR<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;W=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">disp</span><span class="token punctuation">(</span>W<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
	<span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;此矩阵的一致性不可以接受!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br>`,17);function v(f,h){const a=e("router-link");return c(),l("div",null,[r,m,u(" more "),n("nav",d,[n("ul",null,[n("li",null,[p(a,{to:"#一、简单介绍"},{default:t(()=>[s("一、简单介绍")]),_:1})]),n("li",null,[p(a,{to:"#二、注意事项"},{default:t(()=>[s("二、注意事项")]),_:1})]),n("li",null,[p(a,{to:"#三、方法步骤"},{default:t(()=>[s("三、方法步骤")]),_:1})]),n("li",null,[p(a,{to:"#四、模型方程建立与求解"},{default:t(()=>[s("四、模型方程建立与求解")]),_:1})]),n("li",null,[p(a,{to:"#五、案例分析"},{default:t(()=>[s("五、案例分析")]),_:1})])])]),b])}const C=o(k,[["render",v],["__file","C-层次分析法AHP.html.vue"]]);export{C as default};
